[gd_scene load_steps=4 format=3 uid="uid://dgweqrthkcdbk"]

[ext_resource type="Script" uid="uid://wdmodhgnkymq" path="res://Scripts/head_rotation_45degree.gd" id="1_45deg"]
[ext_resource type="Texture2D" uid="uid://cudrs0k7ndcs5" path="res://Assets/Characters/Paperdolls/Caprica/CapricaPaperDoll.png" id="2_bg78h"]
[ext_resource type="Texture2D" uid="uid://cvsnricdnqsn8" path="res://Assets/Characters/Paperdolls/Caprica/CapricaHeadFront_n.png" id="3_normal"]

[node name="HeadRotationTest" type="Node2D"]

[node name="CapricaHead" type="Sprite2D" parent="."]
scale = Vector2(2, 2)
script = ExtResource("1_45deg")

[node name="Texture45Node" type="Sprite2D" parent="CapricaHead"]
visible = false
texture = ExtResource("2_bg78h")
region_enabled = true
region_rect = Rect2(651.8969, 59.55536, 398.7077, 280.81027)

[node name="Normal45Node" type="Sprite2D" parent="CapricaHead"]
visible = false
texture = ExtResource("3_normal")

[node name="Camera2D" type="Camera2D" parent="."]
scale = Vector2(2, 2)

[node name="UI" type="CanvasLayer" parent="."]

[node name="Instructions" type="Label" parent="UI"]
offset_left = 16.0
offset_top = 16.0
offset_right = 800.0
offset_bottom = 160.0
theme_override_colors/font_color = Color(1, 1, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 2
text = "45-DEGREE PARALLAX ROTATION - Caprica

Base: 45Â° 3/4 view (1 Sprite + 1 Normal Map)
- rotation < -0.3: Profile LEFT (displacement)
- rotation -0.3 to 0.3: Front view (MIRROR)
- rotation > 0.3: Profile RIGHT (displacement)

Only 2 textures needed!"

[node name="Controls" type="VBoxContainer" parent="UI"]
offset_left = 10.0
offset_top = 180.0
offset_right = 400.0
offset_bottom = 350.0

[node name="AutoLabel" type="Label" parent="UI/Controls"]
layout_mode = 2
text = "Auto Rotate:"

[node name="AutoCheckbox" type="CheckBox" parent="UI/Controls"]
layout_mode = 2
button_pressed = true

[node name="RotationLabel" type="Label" parent="UI/Controls"]
layout_mode = 2
text = "Rotation (-1=Profile Left, 0=Front, 1=Profile Right):"

[node name="RotationSlider" type="HSlider" parent="UI/Controls"]
layout_mode = 2
min_value = -1.0
max_value = 1.0
step = 0.01

[node name="ParallaxLabel" type="Label" parent="UI/Controls"]
layout_mode = 2
text = "Parallax Strength:"

[node name="ParallaxSlider" type="HSlider" parent="UI/Controls"]
layout_mode = 2
max_value = 0.2
step = 0.001
value = 0.05

[node name="MirrorLabel" type="Label" parent="UI/Controls"]
layout_mode = 2
text = "Mirror Threshold:"

[node name="MirrorSlider" type="HSlider" parent="UI/Controls"]
layout_mode = 2
max_value = 0.5
step = 0.01
value = 0.3

[connection signal="toggled" from="UI/Controls/AutoCheckbox" to="CapricaHead" method="set_auto_rotate"]
[connection signal="value_changed" from="UI/Controls/RotationSlider" to="CapricaHead" method="set_head_rotation"]
[connection signal="value_changed" from="UI/Controls/ParallaxSlider" to="CapricaHead" method="set_parallax_strength"]
[connection signal="value_changed" from="UI/Controls/MirrorSlider" to="CapricaHead" method="set" binds= ["mirror_threshold"]]
