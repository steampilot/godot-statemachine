[gd_scene load_steps=3 format=3 uid="uid://c8kv2kaxm7p3d"]

[ext_resource type="Script" path="res://Scripts/head_rotation_45degree.gd" id="1_45deg"]

[sub_resource type="PlaceholderTexture2D" id="PlaceholderTexture2D_1"]
size = Vector2(128, 128)

[node name="HeadRotation45DegreeTest" type="Node2D"]

[node name="CapricaHead45" type="Sprite2D" parent="."]
scale = Vector2(2, 2)
texture = SubResource("PlaceholderTexture2D_1")
script = ExtResource("1_45deg")

[node name="Texture45Node" type="Sprite2D" parent="CapricaHead45"]
visible = false

[node name="Normal45Node" type="Sprite2D" parent="CapricaHead45"]
visible = false

[node name="Camera2D" type="Camera2D" parent="."]

[node name="UI" type="CanvasLayer" parent="."]

[node name="Instructions" type="Label" parent="UI"]
offset_left = 16.0
offset_top = 16.0
offset_right = 800.0
offset_bottom = 160.0
theme_override_colors/font_color = Color(1, 1, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 2
text = "45-DEGREE PARALLAX ROTATION SYSTEM

Base Image: Character at 45° angle (3/4 view)
- rotation < 0: Profile LEFT (displacement)
- rotation ≈ 0: Front view (MIRROR horizontal)
- rotation > 0: Profile RIGHT (displacement)

Only 2 Textures needed: 1 Base + 1 Normal Map!"

[node name="Controls" type="VBoxContainer" parent="UI"]
offset_left = 16.0
offset_top = 180.0
offset_right = 500.0
offset_bottom = 400.0

[node name="AutoRotateLabel" type="Label" parent="UI/Controls"]
layout_mode = 2
text = "Auto Rotate:"

[node name="AutoCheckbox" type="CheckBox" parent="UI/Controls"]
layout_mode = 2
button_pressed = true

[node name="RotationLabel" type="Label" parent="UI/Controls"]
layout_mode = 2
text = "Rotation (-1=Profile Left, 0=Front, 1=Profile Right):"

[node name="RotationSlider" type="HSlider" parent="UI/Controls"]
layout_mode = 2
min_value = -1.0
max_value = 1.0
step = 0.01
value = 0.0

[node name="ParallaxLabel" type="Label" parent="UI/Controls"]
layout_mode = 2
text = "Parallax Strength:"

[node name="ParallaxSlider" type="HSlider" parent="UI/Controls"]
layout_mode = 2
min_value = 0.0
max_value = 0.2
step = 0.001
value = 0.05

[node name="MirrorLabel" type="Label" parent="UI/Controls"]
layout_mode = 2
text = "Mirror Threshold (Front View Range):"

[node name="MirrorSlider" type="HSlider" parent="UI/Controls"]
layout_mode = 2
min_value = 0.0
max_value = 0.5
step = 0.01
value = 0.3

[connection signal="toggled" from="UI/Controls/AutoCheckbox" to="CapricaHead45" method="set_auto_rotate"]
[connection signal="value_changed" from="UI/Controls/RotationSlider" to="CapricaHead45" method="set_head_rotation"]
[connection signal="value_changed" from="UI/Controls/ParallaxSlider" to="CapricaHead45" method="set_parallax_strength"]
[connection signal="value_changed" from="UI/Controls/MirrorSlider" to="CapricaHead45" method="set" binds= ["mirror_threshold"]]
